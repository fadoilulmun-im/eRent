{"content":{"type":"API","structure":"","server_on_load":"async ({\n  template,\n  params,\n  render,\n  db,\n  req,\n  reply,\n  user,\n  log,\n  ext,\n  isDev,\n}: Server) => {\n  // const { file } = req.body;\n  console.log(await req.files);\n  reply.send({\n    req: req.body,\n  });\n\n  let form = new ext.formidable.IncomingForm();\n\n  // manangani upload file\n  form.parse(req, function (err, fields, files) {\n    let oldpath = files.file.path;\n    let newpath = ext.path.resolve(\"./\") + \"/uploads/\" + files.file.name;\n\n    // pindahakan file yang telah di-upload\n    ext.mv(oldpath, newpath, function (err) {\n      if (err) {\n        throw err;\n      }\n      console.log(\"file uploaded successfully\");\n      reply.send({\n        hello: \"world\",\n      });\n    });\n  })\n}","figma":{}},"title":"upload-file","type":"cms-template","lang":"","status":"SYSTEM","parent_id":"66283","slug":"/api/upload","site":"*","id":"02885"}